<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio - Flasti Images</title>
    <link rel="icon" type="image/svg+xml" href="images/logo.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="responsive.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar para navegación -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="images/logo.svg" alt="Flasti Images Logo" class="sidebar-logo">
                <h1>Flasti <span class="ai-text">Images</span></h1>
            </div>

            <nav class="sidebar-nav">
                <a href="#generator" class="nav-item active" data-section="generator">
                    <i class="fas fa-magic nav-icon"></i>
                    <span class="nav-text">Generador</span>
                </a>
                <a href="#gallery" class="nav-item" data-section="gallery">
                    <i class="fas fa-images nav-icon"></i>
                    <span class="nav-text">Galería</span>
                </a>
                <a href="#profile" class="nav-item" data-section="profile">
                    <i class="fas fa-user nav-icon"></i>
                    <span class="nav-text">Perfil</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="user-details">
                        <span id="user-name" class="user-name">Usuario</span>
                        <span id="user-plan" class="user-plan premium">Premium</span>
                    </div>
                </div>
                <button id="logout-btn" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Cerrar Sesión</span>
                </button>
            </div>
        </aside>

        <!-- Contenido principal -->
        <main class="main-content">
            <header class="main-header">
                <div class="mobile-menu-toggle">
                    <i class="fas fa-bars"></i>
                </div>
                <div class="header-title">
                    <h2 id="section-title">Generador de Imágenes</h2>
                </div>
                <div class="header-actions">
                    <div class="theme-toggle">
                        <i class="fas fa-moon"></i>
                    </div>
                    <div class="notifications">
                        <i class="fas fa-bell"></i>
                    </div>
                </div>
            </header>

            <!-- Secciones de contenido -->
            <div class="content-sections">
                <!-- Sección del Generador -->
                <section id="generator" class="content-section active">
                    <div class="generator-container">
                        <div class="prompt-card">
                            <div class="card-header">
                                <h3><i class="fas fa-lightbulb"></i> Crea tu imagen</h3>
                            </div>
                            <div class="card-body">
                                <div class="form-group">
                                    <label for="prompt-input">Describe la imagen que deseas crear:</label>
                                    <textarea id="prompt-input" class="prompt-textarea" placeholder="Ej: Un gato astronauta flotando en el espacio con un fondo de galaxia colorida, estilo digital art, alta resolución" rows="4"></textarea>
                                </div>
                                <div class="prompt-suggestions">
                                    <h4>Sugerencias:</h4>
                                    <div class="suggestion-chips">
                                        <span class="suggestion-chip">Paisaje futurista</span>
                                        <span class="suggestion-chip">Retrato estilo anime</span>
                                        <span class="suggestion-chip">Naturaleza fantástica</span>
                                        <span class="suggestion-chip">Cyberpunk ciudad</span>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button id="generate-btn" class="generate-btn">
                                        <i class="fas fa-wand-magic-sparkles"></i> Generar Imagen
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="result-card">
                            <div class="card-header">
                                <h3><i class="fas fa-image"></i> Resultado</h3>
                            </div>
                            <div class="card-body">
                                <div id="result-container" class="result-container">
                                    <div class="empty-result">
                                        <i class="fas fa-image empty-icon"></i>
                                        <p>Tu imagen aparecerá aquí</p>
                                    </div>
                                </div>

                                <div id="loading-indicator" class="loading-indicator" style="display: none;">
                                    <div class="spinner-container">
                                        <div class="spinner"></div>
                                    </div>
                                    <p>Generando imagen... Esto puede tomar unos segundos.</p>
                                </div>

                                <div class="result-actions">
                                    <!-- Botón de guardar eliminado -->
                                    <button id="download-btn" class="action-btn" style="display: none;">
                                        <i class="fas fa-download"></i>
                                        <span>Descargar</span>
                                    </button>
                                    <button id="share-btn" class="action-btn" style="display: none;">
                                        <i class="fas fa-share-alt"></i>
                                        <span>Compartir</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sección de la Galería -->
                <section id="gallery" class="content-section">
                    <div class="gallery-header">
                        <h3>Tu Galería de Imágenes</h3>
                        <div class="gallery-filters">
                            <div class="search-container">
                                <input type="text" placeholder="Buscar por descripción..." class="search-input">
                                <i class="fas fa-search search-icon"></i>
                            </div>
                            <div class="filter-dropdown">
                                <button class="filter-btn">
                                    <i class="fas fa-filter"></i>
                                    <span>Filtrar</span>
                                </button>
                                <div class="filter-menu">
                                    <a href="#" class="filter-option active">Todas</a>
                                    <a href="#" class="filter-option">Recientes</a>
                                    <a href="#" class="filter-option">Favoritas</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="history-gallery" class="gallery-grid">
                        <!-- Las imágenes se cargarán dinámicamente aquí -->
                        <div class="empty-gallery">
                            <i class="fas fa-images empty-icon"></i>
                            <p>Aún no tienes imágenes guardadas</p>
                            <a href="#generator" class="create-first-btn">Crear mi primera imagen</a>
                        </div>
                    </div>
                </section>

                <!-- Sección del Perfil -->
                <section id="profile" class="content-section">
                    <div class="profile-container">
                        <div class="profile-header">
                            <div class="profile-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="profile-title">
                                <h3 id="profile-name-display">Usuario</h3>
                                <span id="profile-plan-badge" class="plan-badge premium">Plan Premium</span>
                            </div>
                        </div>

                        <div class="profile-cards">
                            <div class="profile-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-user-cog"></i> Información Personal</h3>
                                </div>
                                <div class="card-body">
                                    <div class="profile-field">
                                        <label>Nombre:</label>
                                        <span id="profile-name">Usuario</span>
                                    </div>
                                    <div class="profile-field">
                                        <label>Email:</label>
                                        <span id="profile-email">usuario@ejemplo.com</span>
                                    </div>
                                    <div class="profile-field">
                                        <label>Miembro desde:</label>
                                        <span id="profile-joined">Abril 2024</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Bloque de estadísticas eliminado -->

                            <div class="profile-card subscription-card">
                                <div class="card-header">
                                    <h3><i class="fas fa-crown"></i> Plan Premium</h3>
                                </div>
                                <div class="card-body">
                                    <div class="subscription-status">
                                        <div class="status-icon active">
                                            <i class="fas fa-check-circle"></i>
                                        </div>
                                        <div class="status-text">
                                            <h4>Premium Activo</h4>
                                            <p>Disfruta de generación ilimitada de imágenes</p>
                                        </div>
                                    </div>

                                    <div class="subscription-features">
                                        <div class="feature-item">
                                            <i class="fas fa-infinity"></i>
                                            <span>Generación ilimitada</span>
                                        </div>
                                        <div class="feature-item">
                                            <i class="fas fa-cloud-upload-alt"></i>
                                            <span>Almacenamiento en la nube</span>
                                        </div>
                                        <div class="feature-item">
                                            <i class="fas fa-star"></i>
                                            <span>Máxima calidad</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Popup de Premium -->
    <div id="premium-popup" class="premium-popup">
        <div class="premium-content">
            <div class="popup-header">
                <h2><i class="fas fa-crown"></i> ¡Desbloquea Todo el Potencial!</h2>
                <button id="close-popup-x" class="close-popup-x">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <p class="premium-subtitle">Has alcanzado el límite de imágenes gratuitas</p>

            <div class="premium-features">
                <div class="premium-feature">
                    <i class="fas fa-infinity premium-icon"></i>
                    <div>
                        <h4>Generación Ilimitada</h4>
                        <p>Crea todas las imágenes que desees sin restricciones</p>
                    </div>
                </div>
                <div class="premium-feature">
                    <i class="fas fa-palette premium-icon"></i>
                    <div>
                        <h4>Alta Calidad</h4>
                        <p>Accede a la máxima calidad de generación de imágenes</p>
                    </div>
                </div>
                <div class="premium-feature">
                    <i class="fas fa-cloud premium-icon"></i>
                    <div>
                        <h4>Almacenamiento</h4>
                        <p>Guarda todas tus creaciones en la nube</p>
                    </div>
                </div>
            </div>

            <div class="premium-price">
                <span class="price-value">$5</span>
                <span class="price-period">pago único</span>
            </div>

            <div class="popup-actions">
                <a href="checkout.html" id="get-premium-btn" class="premium-btn">
                    <i class="fas fa-crown"></i> Obtener Premium
                </a>
                <button id="close-popup" class="close-popup">Continuar con Plan Gratuito</button>
            </div>
        </div>
    </div>

    <!-- Overlay para móvil -->
    <div class="mobile-overlay"></div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="dashboard.js"></script>
</body>
</html>
